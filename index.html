<!DOCTYPE html>
<html lang="en"></html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" /> -->
  <title>D!Y's Portfolio</title>
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script>
    let height2 = 0;
    let height3 = $(window).height();
    let bottomPos = 0;
    let currTop = 0;
    let debounceFlag = false;

    $(window).on("wheel resize DOMMouseScroll", function (event) {
      if (debounceFlag) return;
      let wd = event.originalEvent.wheelDelta || -event.originalEvent.detail;
      height2 = $(".skills").offset().top;
      height3 = $(".experiences").offset().top;
      bottomPos =
        window.pageYOffset + $(window).height() + event.originalEvent.deltaY;
      currTop = window.pageYOffset + event.originalEvent.deltaY;

      if (!debounceFlag) {
        debounceFlag = true;
        if (wd < 0) {
          if (currTop < height2 && bottomPos > height2 - 2) {
            $("html,body")
              .stop()
              .animate(
                {
                  scrollTop: $(".skills").offset().top + 2,
                },
                1000,
                "swing",
                function () {
                  debounceFlag = false;
                }
              );
          } else if (
            currTop >= height2 &&
            bottomPos < height3 + window.innerHeight
          ) {
            //scroll up
            if ((height1 = height2))
              $("html,body")
                .stop()
                .animate(
                  {
                    scrollTop: $(".experiences").offset().top + 2,
                  },
                  1000,
                  "swing",
                  function () {
                    debounceFlag = false;
                    $(window);
                  }
                );
          }
        } else {
          if (currTop <= height3 && currTop > height2 + 2) {
            $("html,body")
              .stop()
              .animate(
                {
                  scrollTop: $(".skills").offset().top - 2,
                },
                1000,
                "swing",
                function () {
                  debounceFlag = false;
                }
              );
          } else if (
            currTop <= height2 &&
            currTop > height2 - window.innerHeight + 2
          ) {
            $("html,body")
              .stop()
              .animate(
                {
                  scrollTop: $(".skills").offset().top - window.innerHeight,
                },
                1000,
                "swing",
                function () {
                  debounceFlag = false;
                }
              );
          }
        }
      }

      bottomPos = window.pageYOffset + $(window).height();
      currTop = window.pageYOffset;
      debounceFlag = false;
    });

    $(document).ready(function () {
      $(".hamburgerBtn").click(function () {
        $(".hmbgBtnTgl").stop().slideToggle(200);
      });
      $(window).scroll(function () {
        height2 = $(window).height();
      });
    });

    function funcHmbgBtn(x) {
      x.classList.toggle("change");
    }
  </script>
</head>

<body>
  <header class="header">
    <div class="hamburgerBtn" onclick="funcHmbgBtn(this)">
      <div class="bars">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </div>
      <div class="hmbgTglBox">
        <ul class="hmbgBtnTgl" style="display: none">
          <li><a href="#">Home</a></li>
          <li><a href="#">About Me</a></li>
          <li><a href="#">Skills</a></li>
          <li><a href="#">Experiences</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </div>
  </header>
  <div class="flexContainer">
    <div class="introduce">
      <div class="bgImage">
        <div class="introduceBox">
          <p>Hello I'm</p>
          <br />
          <p>Dong-in Yun</p>
          <br />
          <p>Software Developer</p>
          <p>
            Not neither a brand new graduate nor having professional
            experiences, you'll see something different in my page!
          </p>
        </div>
        <div class="about">about me</div>
      </div>
    </div>

    <div class="main">
      <div class="skills">skills</div>
      <div class="experiences">experiences</div>
      <!-- <section class="game">game</section> -->
    </div>
    <footer class="footer">contact</footer>
  </div>
</body>
